<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LML-MED | FLRS Unterlagen</title>
    <meta name="robots" content="noindex, nofollow">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; style-src 'self' https://fonts.googleapis.com https://cdnjs.cloudflare.com 'unsafe-inline'; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline'; img-src 'self' data:; frame-ancestors 'none';">
    <meta name="referrer" content="no-referrer">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Inter:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="docs.css">
    <!-- Auth Guard: redirect to login if not authenticated -->
    <script>
        if (sessionStorage.getItem('lmlmed_docs_auth') !== '1') {
            window.location.replace('index.html');
        }
    </script>
</head>

<body>
    <div class="mesh-background"></div>

    <!-- Navbar -->
    <nav class="docs-navbar">
        <a href="index.html" class="docs-logo">
            <i class="fa-solid fa-arrow-left"></i>
            <span>Übersicht</span>
        </a>
        <h2 class="docs-nav-title"><i class="fa-solid fa-truck-medical"></i> FLRS</h2>
        <button id="logout-btn" class="btn-logout" title="Abmelden">
            <i class="fa-solid fa-right-from-bracket"></i> Abmelden
        </button>
    </nav>

    <main class="docs-main">
        <a href="index.html" class="btn-back-docs"><i class="fa-solid fa-arrow-left"></i> Zurück zur Übersicht</a>

        <!-- Course Header -->
        <div class="course-header">
            <div class="course-header-icon"
                style="background: linear-gradient(135deg, #0f2d5c, #0557e3); box-shadow: 0 6px 20px rgba(5,87,227,0.4);">
                <i class="fa-solid fa-truck-medical"></i>
            </div>
            <div class="course-header-text">
                <h1>Fachlehrgang für angehende Rettungssanitäter</h1>
                <p>Unterlagen strukturiert nach Unterrichtstagen – klicke einen Dateilink zum Öffnen.</p>
            </div>
        </div>

        <!-- Table -->
        <div class="course-table-wrapper glass-panel" style="padding: 0;">
            <table class="course-table">
                <thead>
                    <tr>
                        <th style="width: 140px;"><i class="fa-solid fa-calendar-day"
                                style="margin-right:0.5rem; opacity:0.7;"></i>Tag</th>
                        <th><i class="fa-solid fa-file-powerpoint"
                                style="margin-right:0.5rem; opacity:0.7;"></i>Unterlagen / Datei</th>
                    </tr>
                </thead>
                <tbody id="flrs-table-body">
                    <!-- Rows generated by JS below -->
                </tbody>
            </table>
        </div>

        <p class="upload-note">
            <i class="fa-solid fa-circle-info"></i>
            Um Dateien hinzuzufügen: Datei in den Ordner <strong>docs/files/flrs/</strong> hochladen und den Dateinamen
            in der Konfiguration unten im Quellcode eintragen.
        </p>
    </main>

    <script>
        // ── Auth guard (double-check) ──
        if (sessionStorage.getItem('lmlmed_docs_auth') !== '1') {
            window.location.replace('index.html');
        }

        document.getElementById('logout-btn').addEventListener('click', () => {
            sessionStorage.removeItem('lmlmed_docs_auth');
            window.location.replace('index.html');
        });

        // ── File configuration ──
        // Edit this array to add files. Leave 'file' as empty string if not yet uploaded.
        // 'label' is the display name, 'file' is the filename in docs/files/flrs/
        const FLRS_FILES = [
            { label: 'Tag 1', file: '' },
            { label: 'Tag 2', file: '' },
            { label: 'Tag 3', file: '' },
            { label: 'Tag 4', file: '' },
            { label: 'Tag 5', file: '' },
            { label: 'Tag 6', file: '' },
            { label: 'Tag 7', file: '' },
            { label: 'Tag 8', file: '' },
            { label: 'Tag 9', file: '' },
            { label: 'Tag 10', file: '' },
            { label: 'Tag 11', file: '' },
            { label: 'Tag 12', file: '' },
            { label: 'Tag 13', file: '' },
            { label: 'Tag 14', file: '' },
            { label: 'Tag 15', file: '' },
            { label: 'Tag 16', file: '' },
            { label: 'Tag 17', file: '' },
            { label: 'Tag 18', file: '' },
            { label: 'Tag 19', file: '' },
            { label: 'Tag 20', file: '' },
        ];

        const tbody = document.getElementById('flrs-table-body');
        FLRS_FILES.forEach(row => {
            const tr = document.createElement('tr');

            // Day cell
            const tdDay = document.createElement('td');
            tdDay.textContent = row.label;
            tr.appendChild(tdDay);

            // File cell
            const tdFile = document.createElement('td');
            if (row.file) {
                const ext = row.file.split('.').pop().toLowerCase();
                const iconMap = { pdf: 'fa-file-pdf', pptx: 'fa-file-powerpoint', ppt: 'fa-file-powerpoint', docx: 'fa-file-word', doc: 'fa-file-word', xlsx: 'fa-file-excel' };
                const icon = iconMap[ext] || 'fa-file';
                tdFile.innerHTML = `<a href="files/flrs/${row.file}" class="file-link" target="_blank" rel="noopener noreferrer"><i class="fa-solid ${icon}"></i> ${row.file}</a>`;
            } else {
                tdFile.innerHTML = '<span class="file-empty"><i class="fa-regular fa-clock"></i> Noch nicht hochgeladen</span>';
            }
            tr.appendChild(tdFile);

            tbody.appendChild(tr);
        });
    </script>
</body>

</html>